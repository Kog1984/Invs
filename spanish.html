<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Offline Spanish Quiz</title>
<style>
body { font-family: sans-serif; text-align: center; padding: 30px; }
.sentence { font-size: 1.5rem; margin: 20px; }
button { padding: 10px 20px; margin: 10px; cursor: pointer; }
.quiz-btn { display: block; margin: 10px auto; width: 250px; }
.result { font-weight: bold; margin-top: 10px; }
</style>
</head>
<body>
<h1>Spanish Quiz</h1>

<div class="sentence" id="spanish-sentence">Loading...</div>
<button onclick="speakSpanish()">üîä Listen</button>

<h3>What does this mean?</h3>
<div id="options"></div>

<div class="result" id="result"></div>
<button onclick="nextQuiz()">Next Quiz</button>

<script>
// Word banks to generate sentences
const subjects = ["Yo", "T√∫", "√âl", "Ella", "Nosotros", "Ellos"];
const verbs = ["como", "bebo", "leo", "veo", "voy a", "juego", "quiero"];
const objects = ["manzanas", "libros", "TV", "escuela", "agua", "f√∫tbol", "pel√≠culas", "caf√©"];

let currentSpanish = '';
let currentEnglish = '';
let score = 0;

// English equivalents for options
const subjectsEn = ["I", "You", "He", "She", "We", "They"];
const verbsEn = ["eat", "drink", "read", "watch", "go to", "play", "want"];
const objectsEn = ["apples", "books", "TV", "school", "water", "soccer", "movies", "coffee"];

// Generate a random sentence in Spanish & English
function generateSentence() {
  const i = Math.floor(Math.random() * subjects.length);
  const j = Math.floor(Math.random() * verbs.length);
  const k = Math.floor(Math.random() * objects.length);

  currentSpanish = `${subjects[i]} ${verbs[j]} ${objects[k]}`;
  currentEnglish = `${subjectsEn[i]} ${verbsEn[j]} ${objectsEn[k]}`;
}

// Load a new quiz
function loadQuiz() {
  document.getElementById('result').textContent = '';
  generateSentence();
  document.getElementById('spanish-sentence').textContent = currentSpanish;

  // Build multiple-choice options
  const optionsDiv = document.getElementById('options');
  optionsDiv.innerHTML = '';
  let options = [currentEnglish];

  // Generate 3 random wrong answers
  while (options.length < 4) {
    const i = Math.floor(Math.random() * subjectsEn.length);
    const j = Math.floor(Math.random() * verbsEn.length);
    const k = Math.floor(Math.random() * objectsEn.length);
    const sentence = `${subjectsEn[i]} ${verbsEn[j]} ${objectsEn[k]}`;
    if (!options.includes(sentence)) options.push(sentence);
  }

  // Shuffle options
  options.sort(() => Math.random() - 0.5);

  options.forEach(opt => {
    const btn = document.createElement('button');
    btn.textContent = opt;
    btn.className = 'quiz-btn';
    btn.onclick = () => checkAnswer(opt);
    optionsDiv.appendChild(btn);
  });
}

function checkAnswer(answer) {
  if (answer === currentEnglish) {
    document.getElementById('result').textContent = '‚úÖ Correct!';
    score++;
  } else {
    document.getElementById('result').textContent = `‚ùå Wrong! Correct: ${currentEnglish}`;
  }
  console.log('Score:', score);
}

function nextQuiz() {
  loadQuiz();
}

function speakSpanish() {
  if (!currentSpanish) return;
  const msg = new SpeechSynthesisUtterance(currentSpanish);
  msg.lang = 'es-ES';
  window.speechSynthesis.speak(msg);
}

// Initialize first quiz
loadQuiz();
</script>
</body>
</html>
